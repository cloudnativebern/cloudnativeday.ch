import{s as P,e as p,t as w,a as j,c as H,b as T,d as y,f as m,g as I,i as k,j as E,k as v,l as R,n as C,m as he,K as L}from"../chunks/scheduler.CKeg0i-H.js";import{S as q,i as K,c as z,a as M,t as N,g as F,b as Q,d as U,m as X,e as Y}from"../chunks/index.Df2JD2DI.js";import{e as O,u as G,d as ue,o as Z}from"../chunks/each.DdnPTYds.js";import{$ as _e}from"../chunks/runtime.Cgz1_hax.js";import{b as x}from"../chunks/paths.bAlMjhru.js";import{f as ee,i as fe}from"../chunks/Session.BrK3l6oJ.js";function de(l){let e=l[5](l[3])+"",s,t,n=l[5](l[4])+"",o;return{c(){s=w(e),t=w(" - "),o=w(n)},l(a){s=y(a,e),t=y(a," - "),o=y(a,n)},m(a,i){E(a,s,i),E(a,t,i),E(a,o,i)},p:C,d(a){a&&(m(s),m(t),m(o))}}}function te(l){let e=l[0].name+"",s;return{c(){s=w(e)},l(t){s=y(t,e)},m(t,n){E(t,s,n)},p(t,n){n&1&&e!==(e=t[0].name+"")&&R(s,e)},d(t){t&&m(s)}}}function me(l){let e,s,t,n=l[0].session.title+"",o,a,i,u,r=!l[6](l[0].session),c,f=l[3]!=""&&l[4]!=""&&de(l),_=r&&te(l);return{c(){e=p("div"),s=p("header"),t=p("h4"),o=w(n),a=j(),i=p("section"),f&&f.c(),u=j(),_&&_.c(),this.h()},l(h){e=H(h,"DIV",{class:!0});var d=T(e);s=H(d,"HEADER",{class:!0});var b=T(s);t=H(b,"H4",{class:!0});var W=T(t);o=y(W,n),W.forEach(m),b.forEach(m),a=I(d),i=H(d,"SECTION",{class:!0});var B=T(i);f&&f.l(B),u=I(B),_&&_.l(B),B.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","h4"),k(s,"class","card-header flex justify-center"),k(i,"class","flex justify-center"),k(e,"class",c="card variant-soft-secondary "+l[1](l[0].session)+" mb-2 "+l[2](l[0].session))},m(h,d){E(h,e,d),v(e,s),v(s,t),v(t,o),v(e,a),v(e,i),f&&f.m(i,null),v(i,u),_&&_.m(i,null)},p(h,[d]){d&1&&n!==(n=h[0].session.title+"")&&R(o,n),h[3]!=""&&h[4]!=""&&f.p(h,d),d&1&&(r=!h[6](h[0].session)),r?_?_.p(h,d):(_=te(h),_.c(),_.m(i,null)):_&&(_.d(1),_=null),d&7&&c!==(c="card variant-soft-secondary "+h[1](h[0].session)+" mb-2 "+h[2](h[0].session))&&k(e,"class",c)},i:C,o:C,d(h){h&&m(e),f&&f.d(),_&&_.d()}}}function ge(l,e,s){let{room:t}=e,{getSessionWidth:n}=e,{getSessionHeight:o}=e;const a=t.session.startsAt||"",i=t.session.endsAt||"",u=c=>new Date(c).toLocaleTimeString("de-CH",{hour:"numeric",minute:"numeric"}),r=c=>c.title==="Coffee Break"||c.title==="Short Break";return l.$$set=c=>{"room"in c&&s(0,t=c.room),"getSessionWidth"in c&&s(1,n=c.getSessionWidth),"getSessionHeight"in c&&s(2,o=c.getSessionHeight)},[t,n,o,a,i,u,r]}class ke extends q{constructor(e){super(),K(this,e,ge,me,P,{room:0,getSessionWidth:1,getSessionHeight:2})}}function se(l,e,s){const t=l.slice();return t[6]=e[s],t}function ie(l,e){let s,t=e[6].name+"",n;return{key:l,first:null,c(){s=p("section"),n=w(t),this.h()},l(o){s=H(o,"SECTION",{class:!0});var a=T(s);n=y(a,t),a.forEach(m),this.h()},h(){k(s,"class","flex justify-center"),this.first=s},m(o,a){E(o,s,a),v(s,n)},p(o,a){e=o,a&1&&t!==(t=e[6].name+"")&&R(n,t)},d(o){o&&m(s)}}}function ve(l){let e=l[5](l[3])+"",s,t,n=l[5](l[4])+"",o;return{c(){s=w(e),t=w(" - "),o=w(n)},l(a){s=y(a,e),t=y(a," - "),o=y(a,n)},m(a,i){E(a,s,i),E(a,t,i),E(a,o,i)},p:C,d(a){a&&(m(s),m(t),m(o))}}}function Se(l){let e,s,t,n=l[0].session.title+"",o,a,i=[],u=new Map,r,c,f,_=l[0].name+"",h,d,b,W=O(l[0].session.speakers);const B=g=>g[6].id;for(let g=0;g<W.length;g+=1){let S=se(l,W,g),D=B(S);u.set(D,i[g]=ie(D,S))}let A=l[3]!=""&&l[4]!=""&&ve(l);return{c(){e=p("a"),s=p("header"),t=p("h4"),o=w(n),a=j();for(let g=0;g<i.length;g+=1)i[g].c();r=j(),c=p("section"),A&&A.c(),f=j(),h=w(_),this.h()},l(g){e=H(g,"A",{href:!0,class:!0});var S=T(e);s=H(S,"HEADER",{class:!0});var D=T(s);t=H(D,"H4",{class:!0});var $=T(t);o=y($,n),$.forEach(m),D.forEach(m),a=I(S);for(let J=0;J<i.length;J+=1)i[J].l(S);r=I(S),c=H(S,"SECTION",{class:!0});var V=T(c);A&&A.l(V),f=I(V),h=y(V,_),V.forEach(m),S.forEach(m),this.h()},h(){k(t,"class","h4"),k(s,"class","card-header flex justify-center"),k(c,"class","flex justify-center"),k(e,"href",d=x+"/sessions/"+l[0].session.id),k(e,"class",b="card card-hover variant-soft-primary "+l[1](l[0].session)+" p-2 mb-2 "+l[2](l[0].session))},m(g,S){E(g,e,S),v(e,s),v(s,t),v(t,o),v(e,a);for(let D=0;D<i.length;D+=1)i[D]&&i[D].m(e,null);v(e,r),v(e,c),A&&A.m(c,null),v(c,f),v(c,h)},p(g,[S]){S&1&&n!==(n=g[0].session.title+"")&&R(o,n),S&1&&(W=O(g[0].session.speakers),i=G(i,S,B,1,g,W,u,e,ue,ie,r,se)),g[3]!=""&&g[4]!=""&&A.p(g,S),S&1&&_!==(_=g[0].name+"")&&R(h,_),S&1&&d!==(d=x+"/sessions/"+g[0].session.id)&&k(e,"href",d),S&7&&b!==(b="card card-hover variant-soft-primary "+g[1](g[0].session)+" p-2 mb-2 "+g[2](g[0].session))&&k(e,"class",b)},i:C,o:C,d(g){g&&m(e);for(let S=0;S<i.length;S+=1)i[S].d();A&&A.d()}}}function be(l,e,s){let{room:t}=e,{getSessionWidth:n}=e,{getSessionHeight:o}=e;const a=t.session.startsAt||"",i=t.session.endsAt||"",u=r=>new Date(r).toLocaleTimeString("de-CH",{hour:"numeric",minute:"numeric"});return l.$$set=r=>{"room"in r&&s(0,t=r.room),"getSessionWidth"in r&&s(1,n=r.getSessionWidth),"getSessionHeight"in r&&s(2,o=r.getSessionHeight)},[t,n,o,a,i,u]}class Ee extends q{constructor(e){super(),K(this,e,be,Se,P,{room:0,getSessionWidth:1,getSessionHeight:2})}}function pe(l){let e=ee(l[3])+"",s,t,n=ee(l[4])+"",o;return{c(){s=w(e),t=w(" - "),o=w(n)},l(a){s=y(a,e),t=y(a," - "),o=y(a,n)},m(a,i){E(a,s,i),E(a,t,i),E(a,o,i)},p:C,d(a){a&&(m(s),m(t),m(o))}}}function He(l){let e,s,t,n=l[0].session.title+"",o,a,i,u,r,c=l[3]&&l[4]&&pe(l);return{c(){e=p("a"),s=p("header"),t=p("h4"),o=w(n),a=j(),i=p("section"),c&&c.c(),this.h()},l(f){e=H(f,"A",{href:!0,class:!0});var _=T(e);s=H(_,"HEADER",{class:!0});var h=T(s);t=H(h,"H4",{class:!0});var d=T(t);o=y(d,n),d.forEach(m),h.forEach(m),a=I(_),i=H(_,"SECTION",{class:!0});var b=T(i);c&&c.l(b),b.forEach(m),_.forEach(m),this.h()},h(){k(t,"class","h4"),k(s,"class","card-header flex justify-center"),k(i,"class","flex justify-center"),k(e,"href",u="/sessions/"+l[0].session.id),k(e,"class",r="card card-hover variant-soft-secondary "+l[2](l[0].session)+" mb-2 "+l[1](l[0].session))},m(f,_){E(f,e,_),v(e,s),v(s,t),v(t,o),v(e,a),v(e,i),c&&c.m(i,null)},p(f,[_]){_&1&&n!==(n=f[0].session.title+"")&&R(o,n),f[3]&&f[4]&&c.p(f,_),_&1&&u!==(u="/sessions/"+f[0].session.id)&&k(e,"href",u),_&7&&r!==(r="card card-hover variant-soft-secondary "+f[2](f[0].session)+" mb-2 "+f[1](f[0].session))&&k(e,"class",r)},i:C,o:C,d(f){f&&m(e),c&&c.d()}}}function Te(l,e,s){let{room:t}=e,{getSessionHeight:n}=e,{getSessionWidth:o}=e;const a=t.session.startsAt,i=t.session.endsAt;return l.$$set=u=>{"room"in u&&s(0,t=u.room),"getSessionHeight"in u&&s(1,n=u.getSessionHeight),"getSessionWidth"in u&&s(2,o=u.getSessionWidth)},[t,n,o,a,i]}class we extends q{constructor(e){super(),K(this,e,Te,He,P,{room:0,getSessionHeight:1,getSessionWidth:2})}}function le(l,e,s){const t=l.slice();return t[6]=e[s],t}function ne(l,e,s){const t=l.slice();return t[9]=e[s],t}function oe(l,e,s){const t=l.slice();return t[12]=e[s],t}function ye(l){let e,s;return e=new Ee({props:{room:l[12],getSessionWidth:l[3],getSessionHeight:l[2]}}),{c(){Q(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){X(e,t,n),s=!0},p(t,n){const o={};n&1&&(o.room=t[12]),e.$set(o)},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){N(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function We(l){let e,s;return e=new ke({props:{room:l[12],getSessionWidth:l[3],getSessionHeight:l[2]}}),{c(){Q(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){X(e,t,n),s=!0},p(t,n){const o={};n&1&&(o.room=t[12]),e.$set(o)},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){N(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function De(l){let e,s;return e=new we({props:{room:l[12],getSessionWidth:l[3],getSessionHeight:l[2]}}),{c(){Q(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){X(e,t,n),s=!0},p(t,n){const o={};n&1&&(o.room=t[12]),e.$set(o)},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){N(e.$$.fragment,t),s=!1},d(t){Y(e,t)}}}function re(l,e){let s,t,n,o,a,i;const u=[De,We,ye],r=[];function c(f,_){return _&1&&(t=null),t==null&&(t=!!fe(f[12].session)),t?0:f[12].session.isServiceSession?1:2}return n=c(e,-1),o=r[n]=u[n](e),{key:l,first:null,c(){s=L(),o.c(),a=L(),this.h()},l(f){s=L(),o.l(f),a=L(),this.h()},h(){this.first=s},m(f,_){E(f,s,_),r[n].m(f,_),E(f,a,_),i=!0},p(f,_){e=f;let h=n;n=c(e,_),n===h?r[n].p(e,_):(F(),N(r[h],1,1,()=>{r[h]=null}),z(),o=r[n],o?o.p(e,_):(o=r[n]=u[n](e),o.c()),M(o,1),o.m(a.parentNode,a))},i(f){i||(M(o),i=!0)},o(f){N(o),i=!1},d(f){f&&(m(s),m(a)),r[n].d(f)}}}function ae(l,e){let s,t=[],n=new Map,o,a,i=O(e[9].rooms);const u=r=>r[12].id;for(let r=0;r<i.length;r+=1){let c=oe(e,i,r),f=u(c);n.set(f,t[r]=re(f,c))}return{key:l,first:null,c(){s=p("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){s=H(r,"DIV",{class:!0});var c=T(s);for(let f=0;f<t.length;f+=1)t[f].l(c);c.forEach(m),this.h()},h(){k(s,"class",o="grid "+e[4](e[6])+" gap-2"),this.first=s},m(r,c){E(r,s,c);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(s,null);a=!0},p(r,c){e=r,c&13&&(i=O(e[9].rooms),F(),t=G(t,c,u,1,e,i,n,s,Z,re,null,oe),z()),(!a||c&1&&o!==(o="grid "+e[4](e[6])+" gap-2"))&&k(s,"class",o)},i(r){if(!a){for(let c=0;c<i.length;c+=1)M(t[c]);a=!0}},o(r){for(let c=0;c<t.length;c+=1)N(t[c]);a=!1},d(r){r&&m(s);for(let c=0;c<t.length;c+=1)t[c].d()}}}function ce(l,e){let s,t,n=e[1](`schedule.weekdays.${new Date(e[6].date).getDay()}`)+"",o,a,i=[],u=new Map,r,c,f=O(e[6].timeSlots);const _=h=>h[9].slotStart;for(let h=0;h<f.length;h+=1){let d=ne(e,f,h),b=_(d);u.set(b,i[h]=ae(b,d))}return{key:l,first:null,c(){s=p("section"),t=p("h2"),o=w(n),a=j();for(let h=0;h<i.length;h+=1)i[h].c();r=j(),this.h()},l(h){s=H(h,"SECTION",{class:!0});var d=T(s);t=H(d,"H2",{class:!0});var b=T(t);o=y(b,n),b.forEach(m),a=I(d);for(let W=0;W<i.length;W+=1)i[W].l(d);r=I(d),d.forEach(m),this.h()},h(){k(t,"class","h2 m-8"),k(s,"class","container mx-auto items-center text-center max-w-5xl"),this.first=s},m(h,d){E(h,s,d),v(s,t),v(t,o),v(s,a);for(let b=0;b<i.length;b+=1)i[b]&&i[b].m(s,null);v(s,r),c=!0},p(h,d){e=h,(!c||d&3)&&n!==(n=e[1](`schedule.weekdays.${new Date(e[6].date).getDay()}`)+"")&&R(o,n),d&29&&(f=O(e[6].timeSlots),F(),i=G(i,d,_,1,e,f,u,s,Z,ae,r,ne),z())},i(h){if(!c){for(let d=0;d<f.length;d+=1)M(i[d]);c=!0}},o(h){for(let d=0;d<i.length;d+=1)N(i[d]);c=!1},d(h){h&&m(s);for(let d=0;d<i.length;d+=1)i[d].d()}}}function Ae(l){let e,s=[],t=new Map,n,o=O(l[0].dates);const a=i=>i[6].date;for(let i=0;i<o.length;i+=1){let u=le(l,o,i),r=a(u);t.set(r,s[i]=ce(r,u))}return{c(){e=p("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=H(i,"DIV",{class:!0});var u=T(e);for(let r=0;r<s.length;r+=1)s[r].l(u);u.forEach(m),this.h()},h(){k(e,"class","bg-slate-100 w-full px-8 py-8")},m(i,u){E(i,e,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);n=!0},p(i,[u]){u&31&&(o=O(i[0].dates),F(),s=G(s,u,a,1,i,o,t,e,Z,ce,null,le),z())},i(i){if(!n){for(let u=0;u<o.length;u+=1)M(s[u]);n=!0}},o(i){for(let u=0;u<s.length;u+=1)N(s[u]);n=!1},d(i){i&&m(e);for(let u=0;u<s.length;u+=1)s[u].d()}}}function Ce(l,e,s){let t;he(l,_e,r=>s(1,t=r));let{data:n}=e,{schedule:o=n.schedule}=e;const a=r=>{const c=r.endsAt||"",f=r.startsAt||"",_=new Date(c).getTime()-new Date(f).getTime(),h=Math.round(_/6e4);return fe(r)?"h-28":h<=15?"h-20":15<h&&h<=30?"h-28":30<h&&h<=45?"h-44":45<h&&h<=240?"h-60":"h-80"},i=r=>r.isPlenumSession?"md:col-span-full":"md:col-span-1",u=r=>{switch(r.rooms.length){case 1:return"md:grid-cols-1";case 2:return"md:grid-cols-2";case 3:return"md:grid-cols-3";case 4:return"md:grid-cols-4";case 5:return"md:grid-cols-5";case 6:return"md:grid-cols-6";default:return"md:grid-cols-1"}};return l.$$set=r=>{"data"in r&&s(5,n=r.data),"schedule"in r&&s(0,o=r.schedule)},[o,t,a,i,u,n]}class Re extends q{constructor(e){super(),K(this,e,Ce,Ae,P,{data:5,schedule:0})}}export{Re as component};
